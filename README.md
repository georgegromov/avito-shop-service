# üì¶ Avito Shop Service

–°–µ—Ä–≤–∏—Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞ –º–µ—Ä—á–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –º–æ–≥—É—Ç –ø–æ–∫—É–ø–∞—Ç—å —Ç–æ–≤–∞—Ä—ã –∑–∞ –º–æ–Ω–µ—Ç–∫–∏ (coin) –∏ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –∏—Ö –¥—Ä—É–≥ –¥—Ä—É–≥—É. –ö–∞–∂–¥—ã–π –Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç –∫–æ—à–µ–ª—ë–∫ —Å –±–∞–ª–∞–Ω—Å–æ–º 1000 coin.

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (JWT)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- –ü–æ–∫—É–ø–∫–∞ –º–µ—Ä—á–∞:
  - –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞
  - –∞—Ç–æ–º–∞—Ä–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è (—Å–ø–∏—Å–∞–Ω–∏–µ –º–æ–Ω–µ—Ç ‚Üí –∑–∞–ø–∏—Å—å –ø–æ–∫—É–ø–∫–∏)
- –ü–µ—Ä–µ–≤–æ–¥ –º–æ–Ω–µ—Ç –¥—Ä—É–≥–∏–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º:
  - —Å–ø–∏—Å–∞–Ω–∏–µ, –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å transfer –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∞—Ç–æ–º–∞—Ä–Ω–æ
- –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∫—É–ø–æ–∫
- –ò—Å—Ç–æ—Ä–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤:
  - –≤—Ö–æ–¥—è—â–∏–µ (–∫—Ç–æ –ø—Ä–∏—Å–ª–∞–ª)
  - –∏—Å—Ö–æ–¥—è—â–∏–µ (–∫–æ–º—É –æ—Ç–ø—Ä–∞–≤–∏–ª)
- –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤

## üõ†Ô∏è –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

Backend:
- Golang 1.24.4
- DDD + Layered Architecture (domain / repository / service / handler)
- Gin Framework
- JWT
- bcrypt
- slog
- sqlx

–•—Ä–∞–Ω–∏–ª–∏—â–µ:
- PostgreSQL 17

–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
- Docker
- docker-compose
- Viper
- Makefile

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
.
‚îú‚îÄ‚îÄ cmd/
‚îÇ   ‚îî‚îÄ‚îÄ app/              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ domain/           # –°—É—â–Ω–æ—Å—Ç–∏ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ service/          # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ repository/       # PostgreSQL-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ handler/          # HTTP-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ infra/
‚îÇ       ‚îú‚îÄ‚îÄ security/     # JWT –∏ Hash –º–µ–Ω–µ–¥–∂–µ—Ä—ã
‚îÇ       ‚îú‚îÄ‚îÄ server/       # HTTP —Å–µ—Ä–≤–µ—Ä
‚îÇ       ‚îî‚îÄ‚îÄ postgres/     # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ
‚îú‚îÄ‚îÄ pkg/
‚îÇ   ‚îú‚îÄ‚îÄ config/           # Viper
‚îÇ   ‚îú‚îÄ‚îÄ hash/             # HashManager
‚îÇ   ‚îî‚îÄ‚îÄ jwt/              # JWTManager
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ Dockerfile
‚îî‚îÄ‚îÄ README.md
```

## ‚öôÔ∏è –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (.env.example)
```
ENV=example

# HTTP
HTTP_HOST=
HTTP_PORT=
HTTP_READ_TIMEOUT=
HTTP_WRITE_TIMEOUT=
HTTP_IDLE_TIMEOUT=
HTTP_MAX_HEADER_BYTES=

# PostgreSQL
POSTGRES_HOST=
POSTGRES_PORT=
POSTGRES_USERNAME=
POSTGRES_PASSWORD=
POSTGRES_DBNAME=
POSTGRES_SSLMODE=

# JWT
JWT_SECRET=
JWT_TOKEN_TTL=

# Hash
HASH_COST=
```

## –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose
```bash
# –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª
cp .env.example .env

# –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å:
docker-compose up --build

# –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É:
http://localhost:8080
```
PostgreSQL:  
   host: localhost  
   port: 5432  
   login: postgres  
   password: postgres  


## –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –±–µ–∑ Docker
```bash
go mod download  
go run ./cmd/app
```

## –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

–ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ
------|-----|---------
POST | /auth/register | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
POST | /auth/login | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
GET | /items | –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤
POST | /purchase | –ü–æ–∫—É–ø–∫–∞ —Ç–æ–≤–∞—Ä–∞
POST | /transfer | –ü–µ—Ä–µ–≤–æ–¥ –º–æ–Ω–µ—Ç
GET | /wallet | –ë–∞–ª–∞–Ω—Å
GET | /purchases | –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∫—É–ø–æ–∫
GET | /transfers | –ò—Å—Ç–æ—Ä–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤


## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

- –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö (internal/service)
- –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ ‚Äî —Ç–æ–ª—å–∫–æ SQL-–æ–ø–µ—Ä–∞—Ü–∏–∏
- –í—Å–µ –¥–µ–Ω–µ–∂–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç –≤ –∞—Ç–æ–º–∞—Ä–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö
- JWT –∏ Hash –≤ –ø–∞–∫–µ—Ç–µ pkg
- Domain-first –ø–æ–¥—Ö–æ–¥


## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT (–∏–ª–∏ –ª—é–±–∞—è –¥—Ä—É–≥–∞—è –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
